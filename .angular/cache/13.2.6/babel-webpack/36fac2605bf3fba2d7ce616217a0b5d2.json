{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { TimePeriod } from '../../models/time-period.enum';\nimport { TimeUnit } from '../../models/time-unit.enum';\nimport { animate, sequence, style, transition, trigger } from '@angular/animations';\nimport { DateTime } from 'luxon';\nimport { TimepickerTimeUtils } from '../../utils/timepicker-time.utils';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction NgxMaterialTimepickerPeriodComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵlistener(\"@scaleInOut.done\", function NgxMaterialTimepickerPeriodComponent_div_5_Template_div_animation_scaleInOut_done_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.animationDone();\n    });\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2, \"Current time would be invalid in this period.\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@scaleInOut\", undefined);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"timepicker-dial__item_active\": a0\n  };\n};\n\nexport let NgxMaterialTimepickerPeriodComponent = /*#__PURE__*/(() => {\n  class NgxMaterialTimepickerPeriodComponent {\n    constructor() {\n      this.timePeriod = TimePeriod;\n      this.isPeriodAvailable = true;\n      this.periodChanged = new EventEmitter();\n    }\n\n    changePeriod(period) {\n      this.isPeriodAvailable = this.isSwitchPeriodAvailable(period);\n\n      if (this.isPeriodAvailable) {\n        this.periodChanged.next(period);\n      }\n    }\n\n    animationDone() {\n      this.isPeriodAvailable = true;\n    }\n\n    isSwitchPeriodAvailable(period) {\n      const time = this.getDisabledTimeByPeriod(period);\n      return !time.every(t => t.disabled);\n    }\n\n    getDisabledTimeByPeriod(period) {\n      switch (this.activeTimeUnit) {\n        case TimeUnit.HOUR:\n          return TimepickerTimeUtils.disableHours(this.hours, {\n            min: this.minTime,\n            max: this.maxTime,\n            format: this.format,\n            period\n          });\n\n        case TimeUnit.MINUTE:\n          return TimepickerTimeUtils.disableMinutes(this.minutes, +this.selectedHour, {\n            min: this.minTime,\n            max: this.maxTime,\n            format: this.format,\n            period\n          });\n\n        default:\n          throw new Error('no such TimeUnit');\n      }\n    }\n\n  }\n\n  NgxMaterialTimepickerPeriodComponent.ɵfac = function NgxMaterialTimepickerPeriodComponent_Factory(t) {\n    return new (t || NgxMaterialTimepickerPeriodComponent)();\n  };\n\n  NgxMaterialTimepickerPeriodComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NgxMaterialTimepickerPeriodComponent,\n    selectors: [[\"ngx-material-timepicker-period\"]],\n    inputs: {\n      selectedPeriod: \"selectedPeriod\",\n      format: \"format\",\n      activeTimeUnit: \"activeTimeUnit\",\n      hours: \"hours\",\n      minutes: \"minutes\",\n      minTime: \"minTime\",\n      maxTime: \"maxTime\",\n      selectedHour: \"selectedHour\",\n      meridiems: \"meridiems\"\n    },\n    outputs: {\n      periodChanged: \"periodChanged\"\n    },\n    decls: 6,\n    vars: 9,\n    consts: [[1, \"timepicker-period\"], [\"type\", \"button\", 1, \"timepicker-dial__item\", \"timepicker-period__btn\", 3, \"ngClass\", \"click\"], [\"class\", \"timepicker-period__warning\", 4, \"ngIf\"], [1, \"timepicker-period__warning\"]],\n    template: function NgxMaterialTimepickerPeriodComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function NgxMaterialTimepickerPeriodComponent_Template_button_click_1_listener() {\n          return ctx.changePeriod(ctx.timePeriod.AM);\n        });\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function NgxMaterialTimepickerPeriodComponent_Template_button_click_3_listener() {\n          return ctx.changePeriod(ctx.timePeriod.PM);\n        });\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(5, NgxMaterialTimepickerPeriodComponent_div_5_Template, 3, 1, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(5, _c0, ctx.selectedPeriod === ctx.timePeriod.AM));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.meridiems[0]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c0, ctx.selectedPeriod === ctx.timePeriod.PM));\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate(ctx.meridiems[1]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isPeriodAvailable);\n      }\n    },\n    directives: [i1.NgClass, i1.NgIf],\n    styles: [\".timepicker-dial__item[_ngcontent-%COMP%]{cursor:pointer;color:#ffffff80;font-family:Roboto,sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-dial__item[_ngcontent-%COMP%]{font-family:var(--primary-font-family);color:var(--dial-inactive-color)}}.timepicker-dial__item_active[_ngcontent-%COMP%]{color:#fff}@supports (color: var(--dial-active-color)){.timepicker-dial__item_active[_ngcontent-%COMP%]{color:var(--dial-active-color)}}.timepicker-period[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}.timepicker-period__btn[_ngcontent-%COMP%]{padding:1px 3px;border:0;background-color:transparent;font-size:18px;font-weight:500;-webkit-user-select:none;-moz-user-select:none;user-select:none;outline:none;border-radius:3px;transition:background-color .5s;font-family:Roboto,sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-period__btn[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}.timepicker-period__btn[_ngcontent-%COMP%]:focus{background-color:#00000012}.timepicker-period__warning[_ngcontent-%COMP%]{padding:5px 10px;border-radius:3px;background-color:#0000008c;color:#fff;position:absolute;width:200px;left:-20px;top:40px}.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{margin:0;font-size:12px;font-family:Roboto,sans-serif}@supports (font-family: var(--primary-font-family)){.timepicker-period__warning[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-family:var(--primary-font-family)}}\"],\n    data: {\n      animation: [trigger('scaleInOut', [transition(':enter', [style({\n        transform: 'scale(0)'\n      }), animate('.2s', style({\n        transform: 'scale(1)'\n      })), sequence([animate('3s', style({\n        opacity: 1\n      })), animate('.3s', style({\n        opacity: 0\n      }))])])])]\n    }\n  });\n  return NgxMaterialTimepickerPeriodComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}